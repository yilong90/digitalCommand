/*  
    
	E 1000000000001111, 1111000000001111
	8 1011000000001111, 1111000000001111
	7 1001000000001111, 1111000000001111
	6 0110000000001111, 1111000000001111
	5 0100000000001111, 1111000000001111
	4 0110000000001111, 1111000000001111
	3 1100000000001111, 1111000000001111
	2 1110000000001111, 1111000000001111
	1 0111000000001010, 1111000000001111
	N 0111000000001111, 1111000000001111
	1 1101100000001110, 1101000000001010
	2 1101100000001110, 1101000000001010
	3 1101000000001110, 1101000000001010
	4 1101100000001011, 1101000000001010, 
	5 1101000000001011, 1101000000001010

	       1101000000001010
	SELECT ........x.......
	START  ...........x....
	A      .......x
	B      ......x
	C      .....x
	MASK   zzzzz.......zzzz
    
    
*/

#include <Arduino.h>

#define MASCON_dataPin 3
#define MASCON_cmndPin 4
#define MASCON_attPin A0
#define MASCON_clockPin 5


#define BUTTON_E 0b0000000010000000
#define BUTTON_S 0b0000000000010000
#define BUTTON_A 0b0000000100000000
#define BUTTON_B 0b0000001000000000
#define BUTTON_C 0b0000010000000000
#define MASK_BTN 0b1111100000001111
#define ACC_FLAG 0b1101000000001010
#define DEC_FLAG 0b1111000000001111

#define GEAR_EMG 0b0000000000001111
#define GEAR_B8 0b1001000000001111
#define GEAR_B7 0b1011000000001111
#define GEAR_B5 0b0110000000001111
#define GEAR_B6 0b0100000000001111
#define GEAR_B2 0b0101000000001111
#define GEAR_B4 0b1100000000001111
#define GEAR_B3 0b1110000000001111
#define GEAR_B1 0b0111000000001111
#define GEAR_N  0b1101000000001111
#define GEAR_P1 0b1101100000001110
#define GEAR_P2 0b1101000000001110
#define GEAR_P3 0b1101100000001011
#define GEAR_P4 0b1101000000001011
#define GEAR_P5 0b1101100000001010

#define JOYSTICK_SELECT 0b00001
#define JOYSTICK_START 0b00010
#define JOYSTICK_A 0b00100
#define JOYSTICK_B 0b01000
#define JOYSTICK_C 0b10000

class Mascon
{
	private:
		unsigned int data = 0;
		byte gDirection = 0;
		int gPower = 0;
		int gSpeedRef = 0;

	public:
	
		byte Interval();
		byte GetButtonStatus(unsigned int inData);
		byte GetHandleStatus(unsigned int inData);
		word GetSpeedValue();
		int GetHandleValue();
};

